import{E as b}from"./kaplay-BG-b9CQV.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function m(t){t.scene("home",()=>{t.add([t.text("XFS350",{font:"consolas",size:50}),t.pos(100,100)]),t.add([t.text(`
This project is still a work in progress.
I decided to make this public and submit to get feedback
on the overall design and experience of the simulator.

Physics not yet implemented, as I would
like to focus on the UI and UX of the simulator.

This simulator has some bug with the texts and its
due to a faulty commit on the game engine I am using.

W/S - throttle
Q/A - flaps
E/D - brakes
left/right arrows - elevators
up/down arrows - elevators (precise)

Please share your feedback!
SPACE TO START`,{font:"consolas",size:15,width:600}),t.pos(100,150),t.color(255,255,255)]),t.onKeyDown("space",()=>{t.go("simulator")})})}function y(t){t.add([t.rect(t.width(),30),t.pos(0,0),t.color(255,255,255)]),t.add([t.text("XFS 350",{font:"consolas",size:22}),t.color(0,0,0),t.pos(5,5)]);const o=t.add([t.text("Settings",{font:"consolas",size:22}),t.color(0,0,0),t.pos(t.width()-110,5),t.area()]);o.onClick(()=>{t.go("settings")}),t.add([t.text("Help",{font:"consolas",size:22}),t.color(0,0,0),t.pos(t.width()-200,5),t.area()]),o.onClick(()=>{t.go("help")}),t.add([t.text("GitHub",{font:"consolas",size:22}),t.color(0,0,0),t.pos(t.width()-320,5),t.area()]).onClick(()=>{open("https://github.com/theluqmn/xfs350","_blank")})}function E(t){t.add([t.rect(1440,300),t.pos(0,t.height()),t.color(97,113,128),t.anchor("botleft")])}function l(t,o,n,i,s,r){t.add([t.rect(s,r),t.pos(n,i),t.color(97,113,128),t.outline(1,t.rgb(200,200,200)),t.anchor("botleft")]),t.add([t.text(o,{font:"consolas",size:11}),t.color(200,200,200),t.pos(n,i-r),t.anchor("botleft")])}function P(t){t.add([t.rect(500,60),t.pos(0,t.height()-300),t.color(107,123,138),t.anchor("botleft")])}function S(t){P(t),p(t,"alt",5),p(t,"vs",95),p(t,"spd",185),t.add([t.text("AUTOPILOT",{font:"consolas",size:12}),t.pos(430,t.height()-340),t.anchor("botleft")])}function p(t,o,n){let i;o=="alt"?i="ALT":o=="vs"?i="V/S":o=="spd"&&(i="SPD"),t.add([t.rect(80,30,{radius:5}),t.pos(n,t.height()-325),t.color(0,0,0),t.anchor("botleft")]),t.add([t.text(i,{font:"consolas",size:12}),t.color(225,225,225),t.pos(n+40,t.height()-341),t.anchor("bot")]),t.add([t.text("---",{font:"consolas",size:16}),t.pos(n+40,t.height()-325),t.anchor("bot")]);const s=t.add([t.circle(10),t.pos(n+40,t.height()-302),t.anchor("bot"),t.scale(1),t.area()]);s.onClick(()=>{s.scaleTo(.95),setTimeout(()=>{s.scaleTo(1)},100)})}const e={x:0,y:0,inputs:{throttle:0,brakes:0,flaps:0,gear:0},plane:{speed:0,pitch:0,elevators:0,altitude:0,engines:{1:{state:0,fire:0},2:{state:0,fire:0}}}};function I(t){t.onKeyPressRepeat(["w","W"],()=>{e.inputs.throttle<100&&(e.inputs.throttle+=2)}),t.onKeyPressRepeat(["s","S"],()=>{e.inputs.throttle>0&&(e.inputs.throttle-=2)}),t.onKeyPressRepeat(["e","E"],()=>{e.inputs.brakes<100&&(e.inputs.brakes+=2)}),t.onKeyPressRepeat(["d","D"],()=>{e.inputs.brakes>0&&(e.inputs.brakes-=2)}),t.onKeyPressRepeat(["q","Q"],()=>{e.inputs.flaps<40&&(e.inputs.flaps+=1)}),t.onKeyPressRepeat(["a","A"],()=>{e.inputs.flaps>0&&(e.inputs.flaps-=1)}),t.onKeyPressRepeat("left",()=>{e.plane.elevators<40&&(e.plane.elevators+=1)}),t.onKeyPressRepeat("up",()=>{e.plane.elevators<40&&(e.plane.elevators+=.5)}),t.onKeyPressRepeat("right",()=>{e.plane.elevators>-40&&(e.plane.elevators-=1)}),t.onKeyPressRepeat("down",()=>{e.plane.elevators>-40&&(e.plane.elevators-=.5)}),t.onKeyPress("=",()=>{e.plane.elevators=0,e.plane.pitch=0}),t.onUpdate(()=>{e.plane.speed+=e.inputs.throttle/1e3,e.plane.pitch+=e.plane.elevators/500,e.plane.altitude+=e.plane.pitch*e.plane.speed/1e3})}function T(t,o){l(t,"PRIMARY FLIGHT DISPLAYS",o,t.height()-5,460,280),A(t,o),t.add([t.rect(4,270),t.pos(o+230,t.height()-10),t.color(20,20,20),t.anchor("bot")]),L(t,o)}function A(t,o){t.add([t.rect(220,270),t.pos(o+5,t.height()-10),t.color(0,0,0),t.anchor("botleft")]),t.add([t.rect(40,160),t.pos(o+10,t.height()-70),t.color(105,108,146),t.anchor("botleft")]);const n=t.add([t.text("0.00",{font:"consolas",size:10}),t.pos(o+10,t.height()-55),t.color(0,255,0),t.anchor("botleft")]);t.add([t.rect(40,160),t.pos(o+180,t.height()-70),t.color(105,108,146),t.anchor("botleft")]),t.add([t.text("A/THR",{font:"consolas",size:12}),t.pos(o+180,t.height()-250),t.color(255,255,255)]);const i=t.add([t.text("PITCH:    0 deg",{font:"consolas",size:12}),t.pos(o+55,t.height()-35),t.color(200,200,200),t.anchor("botleft")]),s=t.add([t.text("ELEVATOR: 0 deg",{font:"consolas",size:12}),t.pos(o+55,t.height()-15),t.color(200,200,200),t.anchor("botleft")]);t.onUpdate(()=>{i.text="PITCH:    "+e.plane.pitch.toFixed(1)+" deg",s.text="ELEVATOR: "+e.plane.elevators.toFixed(1)+" deg",n.text=(e.plane.speed*1.15078/761.2).toFixed(2)}),R(t,o),w(t,o),v(t,o)}function L(t,o){t.add([t.rect(220,270),t.pos(o+235,t.height()-10),t.color(0,0,0),t.anchor("botleft")]);const n=t.add([t.text("THROTTLE:   0/100",{font:"consolas",size:12}),t.pos(o+240,t.height()-260),t.color(200,200,200),t.anchor("botleft")]),i=t.add([t.text("BRAKES:     0/100",{font:"consolas",size:12}),t.pos(o+240,t.height()-220),t.color(200,200,200),t.anchor("botleft")]),s=t.add([t.text("FLAPS:      0/40",{font:"consolas",size:12}),t.pos(o+240,t.height()-240),t.color(200,200,200),t.anchor("botleft")]);t.onUpdate(()=>{n.text=`THROTTLE:   ${e.inputs.throttle}/100`,s.text=`FLAPS:      ${e.inputs.flaps}/40`,i.text=`BRAKES:      ${e.inputs.brakes}/100`})}function R(t,o){const n=t.add([t.rect(120,80),t.pos(o+55,t.height()-230),t.color(2,103,238),t.anchor("topleft")]),i=t.add([t.rect(120,80),t.pos(o+55,t.height()-70),t.color(151,71,16),t.anchor("botleft")]),s=t.add([t.rect(120,1),t.pos(o+55,t.height()-150),t.color(255,255,255),t.anchor("botleft")]);t.add([t.rect(30,5),t.pos(o+60,t.height()-148),t.color(0,0,0),t.outline(1,t.rgb(247,220,111)),t.anchor("botleft")]),t.add([t.rect(30,5),t.pos(o+140,t.height()-148),t.color(0,0,0),t.outline(1,t.rgb(247,220,111)),t.anchor("botleft")]),t.onUpdate(()=>{i.height=80-e.plane.pitch*5,n.height=80+e.plane.pitch*5,s.pos.y=t.height()-150+e.plane.pitch*5})}function w(t,o){t.add([t.rect(40,20),t.pos(o+11,t.height()-140),t.color(0,0,0),t.outline(1,t.rgb(247,220,111)),t.anchor("botleft")]);const n=t.add([t.text("000",{font:"consolas",size:12}),t.pos(o+12,t.height()-142),t.color(255,255,255),t.anchor("botleft")]);t.onUpdate(()=>{n.text=e.plane.speed.toFixed(0)})}function v(t,o){t.add([t.rect(40,20),t.pos(o+180,t.height()-140),t.color(0,0,0),t.outline(1,t.rgb(247,220,111)),t.anchor("botleft")]);const n=t.add([t.text("45200",{font:"consolas",size:12}),t.pos(o+218,t.height()-142),t.color(255,255,255),t.anchor("botright")]);t.onUpdate(()=>{n.text=e.plane.altitude.toFixed(0)})}function z(t,o){U(t,o),F(t,o),O(t,o),l(t,"ENGINES",o,t.height()-5,210,115)}function U(t,o){l(t,"BRAKES",o,t.height()-135,50,150),t.add([t.rect(5,80),t.pos(o+25,t.height()-145),t.color(20,20,20),t.anchor("bot")]);const n=t.add([t.rect(35,25),t.pos(o+25,t.height()-145),t.color(50,50,50),t.anchor("bot")]);t.onUpdate(()=>{n.pos.y=t.height()-145-e.inputs.brakes*60/100})}function F(t,o){l(t,"THROTTLE",o+55,t.height()-135,100,150),t.add([t.rect(5,130),t.pos(o+82,t.height()-145),t.color(20,20,20),t.anchor("bot")]),t.add([t.rect(5,130),t.pos(o+128,t.height()-145),t.color(20,20,20),t.anchor("bot")]);const n=t.add([t.rect(40,25),t.pos(o+82,t.height()-145),t.color(50,50,50),t.anchor("bot")]),i=t.add([t.rect(40,25),t.pos(o+128,t.height()-145),t.color(50,50,50),t.anchor("bot")]);t.onUpdate(()=>{n.pos.y=t.height()-145-e.inputs.throttle*110/100,i.pos.y=t.height()-145-e.inputs.throttle*110/100})}function O(t,o){l(t,"FLAPS",o+160,t.height()-135,50,150),t.add([t.rect(5,80),t.pos(o+185,t.height()-145),t.color(20,20,20),t.anchor("bot")]);const n=t.add([t.rect(35,25),t.pos(o+185,t.height()-145),t.color(50,50,50),t.anchor("bot")]);t.onUpdate(()=>{n.pos.y=t.height()-145-e.inputs.flaps*60/40})}function h(t,o,n,i,s,r){const c=t.add([t.text(o,{font:"consolas",size:12,align:n}),t.color(93,173,226),t.pos(i,s),t.anchor("botleft"),t.area()]);return c.onClick(()=>{r()}),c}let a={mode:"general",page:"home",title:"",text:"",buttons:{1:"",2:"",3:"",4:""}};function f(){a.buttons={1:"",2:"",3:"",4:""}}function K(t,o){l(t,"ECAM/GENERAL PURPOSE DISPLAY",o,t.height()-5,230,280),t.add([t.rect(220,270),t.pos(o+5,t.height()-10),t.color(0,0,0),t.anchor("botleft")]);const n=t.add([t.text("",{font:"consolas",size:14}),t.pos(o+10,t.height()-260),t.color(200,200,200),t.anchor("botleft")]),i=t.add([t.text("",{font:"consolas",size:12,width:210}),t.pos(o+10,t.height()-260),t.color(255,255,255),t.anchor("topleft")]);h(t,"HOME","right",o+10,t.height()-15,()=>{a.page="home"}),h(t,"MENU","right",o+50,t.height()-15,()=>{a.page="menu"}),h(t,"ECAM","right",o+90,t.height()-15,()=>{a.mode="ecam"});const s=h(t,a.buttons[1],"right",o+10,t.height()-35,()=>{console.log("button 1")}),r=h(t,a.buttons[2],"right",o+10,t.height()-50,()=>{console.log("button 2")}),c=h(t,a.buttons[3],"right",o+10,t.height()-65,()=>{console.log("button 3")}),g=h(t,a.buttons[4],"right",o+10,t.height()-80,()=>{console.log("button 4")});t.onUpdate(()=>{n.text=a.title,i.text=a.text,s.text=a.buttons[1],r.text=a.buttons[2],c.text=a.buttons[3],g.text=a.buttons[4],a.mode=="general"&&M()})}function M(t){switch(a.page){case"home":a.title="HOME",a.text=`
Welcome to XFS 350. Please note this is still a work in progress!

This display is modified to include guides and other functions to help you understand and use the simulator. You can still access the original display by clicking "ECAM" button below.

Text highlighted as blue performs an action when clicked. Start by clicking the "MENU" button below.`,f();break;case"menu":a.title="MENU",a.text=`
"GUIDES" opens a list of guides that you can follow to complete a task - such as setup, takeoff, etc.

"SKIP" lets the simulator to automatically perform a specified task for you.

"EXPLAIN" provides a description of a specific system or instrument.`,f(),a.buttons={1:"GUIDES",2:"SKIP",3:"EXPLAIN",4:""};break;case"guides":a.title="GUIDES",a.text="Lots of guides.",f(),a.buttons={1:"SETUP",2:"TAKE-OFF",3:"AUTOPILOT",4:"LANDING"};break}}function C(t,o){l(t,"L. GEAR",o,t.height()-5,50,115)}function D(t,o){l(t,"FLIGHT MANAGEMENT SYSTEM",o,t.height()-5,460,280),H(t,o),t.add([t.rect(4,270),t.pos(o+230,t.height()-10),t.color(20,20,20),t.anchor("bot")]),N(t,o)}function H(t,o){t.add([t.rect(220,270),t.pos(o+5,t.height()-10),t.color(0,0,0),t.anchor("botleft")]),u(t,o,1)}function N(t,o){t.add([t.rect(220,270),t.pos(o+235,t.height()-10),t.color(0,0,0),t.anchor("botleft")]),u(t,o,2)}function u(t,o,n){n==2&&(o+=230),t.add([t.text(`FMS ${n}`,{font:"consolas",size:12}),t.pos(o+10,t.height()-265),t.color(64,224,208),t.anchor("botleft")])}function G(t){t.scene("simulator",()=>{const o=t.add([t.rect(t.width(),100),t.pos(0,t.height()/2.2),t.color(20,20,20),t.anchor("left")]);t.loadSprite("plane","assets/a350.png");const n=t.add([t.sprite("plane"),t.pos(t.width()/2,t.height()/2.5),t.scale(.2),t.anchor("center")]);y(t),E(t),S(t),T(t,5),z(t,470),K(t,685),C(t,920),D(t,975),I(t),t.onUpdate(()=>{n.angle=0-e.plane.pitch,o.pos.y=t.height()/2.2+e.plane.altitude})})}const d=b({background:[0,0,0]});d.loadRoot("./");m(d);G(d);d.go("home");
//# sourceMappingURL=index-DEGqMlPe.js.map
